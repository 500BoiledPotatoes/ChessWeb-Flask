{% extends "base.html" %}

{% block title %}

{% endblock %}

{% block head %}
    <link rel="icon" type="image/svg" href="../static/images/icons/favicon.svg"/>
    <link rel="stylesheet" href="{{ url_for('static',filename='css/board.css') }}">
    <link rel="stylesheet" id="chessboard-css" href="{{ url_for('static',filename='css/chessboard.css') }}">
    <link rel="stylesheet" id="chessboard-css" href="../static/css/chessboard.css"/>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="icon" type="image/svg" href="../static/images/icons/wK.svg"/>
    <script src="../static/js/jquery-3.6.0.min.js"></script>
    <script src="../static/js/chess.min.js"></script>
    <script src="../static/js/ltpgnviewer.js"></script>
{% endblock %}

{% block body %}
    <div class="content">
        <a href="" style="color:#ffffff">
            <img width="80" height="80" src="../static/images/icons/wK.svg"
                 style="display: block; margin-left: auto; margin-right: auto">
            {#                Page top icon#}
        </a>
        <span align="center">
            <h2 align="center" style="color:#000000">LET'S CHESS</h2>
            <br/>
        </span>
<div class="chess-area">
                <div class="board-table">
                    <div id="board-top-controls" class="top-controls">
                        <div id="game-promotion" class="promotion hidden">
                            <span figure="q">Queen</span>
                            <span figure="b">Bishop</span>
                            <span figure="n">Knight</span>
                            <span figure="r">Rook</span>
                        </div>
                        <div id="board-save-pgn-area" class="popup hidden">
                            <span class="close"></span>
                            <label>Save PGN Notation:</label>
                            <textarea readonly></textarea>
                            <button>Close</button>
                        </div>
                        <div id="board-load-fen-area" class="popup hidden">
                            <span class="close"></span>
                            <label>Load FEN Notation:</label>
                            <textarea></textarea>
                            <button>Load</button>
                        </div>
                        <div id="board-load-pgn-area" class="popup large hidden">
                            <span class="close"></span>
                            <label>Load PGN Notation:</label>
                            <textarea></textarea>
                            <button>Load</button>
                        </div>
                        <div id="board-resign-game-area" class="popup hidden">
                            <span class="close"></span>
                            <label>Do you want to resign?</label>
                            <button class="yes">Yes</button>
                            <button class="no">No</button>
                        </div>
                    </div>
                    <div id="board" class="board"></div>
                    <div id="board-controls" class="controls">
                        <div class="status">
                            <!-- <span id="game-timer" class="hidden">00:00</span> -->
                            <span id="game-turn" style="display: none;">It's your turn!</span>
                            <span id="game-state" class="hidden"></span>
                        </div>
                        <div id="board-messages" class="messages hidden" style="display: none !important;"></div>
                    </div>
                </div>
                <div class="board-settings">
                    <div class="apex">
                        <span class="label-history">Game History</span>
                        <div class="game-level" id="game-difficulty-option" title="Choose The Engine's Skill Level">
                            <span class="label">Level</span>
                            <span class="value" id="game-difficulty-skill-value">10</span>
                        </div>
                    </div>
                    <div class="game-difficulty hidden" id="game-difficulty-skill-settings">
                        <span class="label">Select Engine's Level:</span>
                        <span class="close"></span>
                        <div class="values">
                            <span class="1">1</span>
                            <span class="2">2</span>
                            <span class="3">3</span>
                            <span class="4">4</span>
                            <span class="5">5</span>
                            <span class="6">6</span>
                            <span class="7">7</span>
                            <span class="8">8</span>
                            <span class="9">9</span>
                            <span class="10 selected">10</span>
                            <span class="11">11</span>
                            <span class="12">12</span>
                            <span class="13">13</span>
                            <span class="14">14</span>
                            <span class="15">15</span>
                            <span class="16">16</span>
                            <span class="17">17</span>
                            <span class="18">18</span>
                            <span class="19">19</span>
                            <span class="20">20</span>
                        </div>
                    </div>
                    <div class="turns-history" id="game-turns-history">
                        <ol></ol>
                    </div>
                    <div class="game-menu hidden" id="game-settings">
                        <span class="label-choose-side">Select Side</span>
                        <span class="btn game-white-side selected" id="btn-choose-white-side"></span>
                        <span class="btn game-black-side" id="btn-choose-black-side"></span>
                    </div>
                    <div class="tunes">
                        <span id="btn-new-game" title="Start New Game" class="btn-new-game">
            <span class="icon"></span>
                        <span class="label">New Game</span>
                        </span>
                        <span id="btn-settings" title="Choose The Engine's Skill Level" class="btn settings"></span>
                        <span id="btn-resign" title="Resign" class="btn resign"></span>
            <i class="icon"></i>
          </span>
                    </div>
                    <div class="params">
                        <div class="cell side" id="game-player-side" style="display: none;">
                            <label>Your Side:</label>
                            <span class="white active">White</span>
                            <span class="black">Black</span>
                        </div>
                        <div class="cell first-turn" id="game-first-turn" style="display: none;">
                            <label>First Turn:</label>
                            <span class="player active">Player</span>
                            <span class="computer">Computer</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chess-log"></div>
    </div>
    <script>
        function is_touch_device() {
            return 'ontouchstart' in window || navigator.maxTouchPoints;
        };

        function loadCss(cssId, cssHref) {
            $('#' + cssId).attr('href', cssHref);
        }

        var desktopLibs = 8;


        loadCss('chessboard-css', '../static/css/chessboard.css');

        $.getScript('../static/js/chessboard.min.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-controls-side.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-controls-bottom.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-sets.js', initGameBoard('desktop'));

        $.getScript('../static/js/board-time.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-actions.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-actions-desktop.js', initGameBoard('desktop'));
        $.getScript('../static/js/board-init.js', initGameBoard('desktop'));

        function initGameBoard(lib = false) {

            if (lib == 'desktop') {
                desktopLibs--;
                if (desktopLibs == 0) {
                    console.log('Desktop loaded');
                    setTimeout(function () {
                        setDesktopBoard();
                    }, 1000);
                }
            }

        }
    </script>


{% endblock %}
{## Inheritance Base interface#}
{## Inherited navigation bar#}

